<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Block by Block</title>
  <link rel="stylesheet" href="stylesheet.css">
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script>

  //This comes from the Jquery Api exapmle page. http://jqueryui.com/draggable/#constrain-movement 
  //Containment is where a draggable is restrained. helper: "clone" indicates that draggin it 
  //creates a copy rather than moving it. 
  $( function() {
    $( "#draggable1" ).draggable({ containment: "#containment-wrapper", scroll: false, helper: "clone" })
    $( "#draggable2" ).draggable({ containment: "#containment-wrapper", scroll: false, helper: "clone"  })
    $( "#draggable3" ).draggable({ containment: "#containment-wrapper", scroll: false, helper: "clone"  });
        // This function lets us drop the icons in the containment area
        $("#containment-wrapper").droppable({
        drop: function (event, ui) {
            var $canvas = $(this);
            console.log($canvas)
            //This lets only the clone be dropped in
            if (!ui.draggable.hasClass('canvas-element')) {
                var $canvasElement = ui.draggable.clone();
                $canvasElement.addClass('canvas-element');
                $canvasElement.draggable({
                    containment: '#containment-wrapper'
                });
                $canvas.append($canvasElement);
                // Sets the new postion in the DOM
                $canvasElement.css({
                    left: (ui.position.left),
                    top: (ui.position.top),
                    position: 'absolute'
                });
            }
        }
    });
  } );
  // This function lets us clear icons moved to the trash
  $( function() {
     $('#trash').droppable({
        over: function(event, ui) {
            // This line makes it so we can only delete the clones
            if (ui.draggable.hasClass('canvas-element'))
            ui.draggable.remove();
        }})});
  </script>
</head>
<body>
 
 
<h3>Blocking</h3>
<!-- Container holding the trash bin -->
<div id="containment-wrapper">
  <div id="trash"><img src="images/trash.png" alt="trash" class="trashbin"></div>
</div>
<!-- Container holding the icons -->
<div id="containment-wrapper2">
  <div id="draggable1" class="draggable ui-widget-content">
    <img src="images/red_circle.png" alt="prop" class="icons">
    <input type="text" id="PropName" name="PropName" value="Props">
  </div>
  <div id="draggable2" class="draggable ui-widget-content">
    <img src="images/blue_square.png" alt="prop" class="icons">
    <input type="text" id="ActorName" name="ActorName" value="Actors" >
  </div>
  <div id="draggable3" class="draggable ui-widget-content">
    <img src="images/house2.png" alt="prop" class="icons">
    <input type="text" id="SetName" name="SetName" value="Set">
  </div>
  

 
 
</body>
</html>
